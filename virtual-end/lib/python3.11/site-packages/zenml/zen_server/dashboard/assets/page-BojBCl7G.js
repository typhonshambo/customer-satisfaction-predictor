import{e as S,j as e}from"./@tanstack-D1KSn3AD.js";import{z as i,f as v,u as g,S as j,I as N,h as y,a2 as b,i as w,ai as E,B as F}from"./index-mCzH7qVB.js";import{u as I}from"./update-server-settings-mutation-BY63tiSL.js";import{t as P}from"./zod-DWNKqVmj.js";import{r as B}from"./@radix-Mqgm9uyP.js";import{u as G}from"./index.esm-5yOGu3_l.js";import"./@react-router-t1nY6c48.js";import"./@reactflow-D76xjDUs.js";const k=i.object({serverName:i.string().min(1)});function q(){var a;const r=B.useId(),{toast:t}=v(),n=S(),{isError:o,isPending:l,data:m}=g({throwOnError:!0}),{mutate:c,isPending:u}=I({onError(s){b(s)&&t({status:"error",emphasis:"subtle",icon:e.jsx(w,{className:"h-5 w-5 shrink-0 fill-error-700"}),description:s.message,rounded:!0})},onSuccess:async()=>{await n.invalidateQueries({queryKey:E()}),t({status:"success",emphasis:"subtle",rounded:!0,description:"Server Settings updated successfully"}),p()}}),{handleSubmit:d,register:x,reset:p,formState:{isValid:f}}=G({resolver:P(k)});function h(s){c({server_name:s.serverName})}return o?null:l?e.jsx(j,{className:"h-[150px] max-w-[600px]"}):e.jsx("div",{className:"w-full max-w-[600px]",children:e.jsxs("form",{className:"space-y-2",onSubmit:d(h),children:[e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("label",{htmlFor:r,className:"text-text-sm",children:"Server Name"}),e.jsx(N,{placeholder:(a=m.body)==null?void 0:a.server_name,...x("serverName"),id:r,className:"w-full"})]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(y,{disabled:u||!f,size:"md",intent:"primary",children:"Update"})})]})})}function O(){return e.jsxs(F,{className:"flex flex-col gap-5 p-5",children:[e.jsx("h1",{className:"text-text-xl font-semibold",children:"General"}),e.jsx(q,{})]})}export{O as default};
